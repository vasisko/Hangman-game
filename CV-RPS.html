<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
    <p>Rock Paper and Scissors Oh My!</p>
    <p>To play against the machine, select your weapon:
        <ul><li>press r for ROCK</li>
            <li>press p for PAPER</li>
            <li>press s for SCISSORS</li>
        </ul>
    </p>
    <p> Your choice:  
        <span id="userPick"></span>    
    </p>
    <p><span id="postScore"></span></p>


 

<script>

// initialize var's
var win=0;
var lose=0;   
var tie=0;
var rpsArray = ["r", "p", "s"];

// listen for user input, capture key in var
var userKEY = document.getElementById("userPick");


// Process Input:  compare user to machine - apply if/else 
document.onkeyup = function(event) {
      
    var weapon = event.key.toLowerCase();
        console.log(weapon);
    userKEY.textContent = event.key;   


    //check input is it a valid choice: r or s or p?
    if ((weapon === 'r') || (weapon === 'p') || (weapon === 's')){              
        
        // randomly chose RPS for machine
        var randNum = Math.floor(Math.random() * rpsArray.length);
            console.log(rpsArray[randNum]);
        
        // compare user to machine - apply if/else  
    
        // WIN Logic
        if ((weapon === 'r' && rpsArray[randNum] === 's') || 
            (weapon === 'p' && rpsArray[randNum] === 'r') || 
            (weapon === 's' && rpsArray[randNum] === 'p')) {
                win++;
                alert(weapon  + " beats " + rpsArray[randNum] + ":  You won!");
         }

        // TIE Logic
        else if(weapon === rpsArray[randNum]){
            tie++;
            alert(weapon  + " ties " + rpsArray[randNum] + ":  You tied.");
         }

        // LOSE Logic
         else {
             lose++;
             alert(weapon  + " losses to " + rpsArray[randNum] + ":  You lost :( ");
         }

        // Post Score
        var score = document.getElementById("postScore"); 
         
             score.textContent = "Score: Wins= " + win + "  Losses= " + lose + "  Ties= " + tie;
         
         console.log(score);

    }   

    else {  
        alert("Not a valid choice.  Please press r for rock, p for paper, or s for scissors");
    }
}
   
</script>
</body>
</html>